@*@model IEnumerable<WebApplication3.Models.Post>*@
@model WebApplication3.Models.CategoryViewModel
@{
    ViewData["Title"] = "Home Page";
}
<h1>@ViewData["Title"]</h1>

<div class="page-wrapper">
    <ul class="col-md-8">
        @foreach (var post in Model.Posts)
        {
            <li>
                @Html.Partial("PostPartial", post)
            </li>
        }
    </ul>
    <div class="right-panel-wrapper">
        <div class="right-panel">
            <form asp-controller="Home" asp-action="Index" method="get">
                <p>
                    <select asp-for="PostCategory" asp-items="Model.Categories">
                        <option value="">All</option>
                    </select>
                    <input type="text" name="SearchString">
                    <input type="submit" value="Search">
                </p>
            </form>
            @await Component.InvokeAsync("LastPosts", new {howMany = 2})
        </div>
    </div>  
</div>