@*@model IEnumerable<WebApplication3.Models.Post>*@
@using Microsoft.AspNetCore.Identity
@inject UserManager<ApplicationUser> UserManager
@model WebApplication3.Models.CommentViewModel
@{
    ViewData["Title"] = "Checking Page";
    //Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>@ViewData["Title"]</h1>


@*<ul class="nav nav-tabs">
        <li class="active"><a data-toggle="tab" href="#postTab">Posts</a></li>
        <li><a data-toggle="tab" href="#commentTab">Comments</a></li>
    </ul>*@
<div class="warpper">
    <input class="radio" id="one" name="group" type="radio" checked />
    <input class="radio" id="two" name="group" type="radio" />
    <input class="radio" id="three" name="group" type="radio" />
    <div class="tabs">
        <label class="tab" id="one-tab" for="one">Posts</label>
        <label class="tab" id="two-tab" for="two">Comments</label>
        <label class="tab" id="three-tab" for="three">Users</label>
    </div>
    <div class="panels">
        <div class="panel" id="one-panel">
            <div class="panel-title">Post manager</div>
            @foreach (var post in Model.Posts)
            {
                @if (post.Posted == false)
                {
                    <li>
                        @await Html.PartialAsync("_PostPartialAdmin", (post, new WebApplication3.Models.Comment()))
                    </li>
                }
            }
        </div>
        <div class="panel" id="two-panel">
            <div class="panel-title">Comment manager</div>
            @foreach (var post in Model.Posts)
            {
                @foreach (var c in Model.Comments)
                {
                    if (c.PostId == post.Id && c.CommentPosted == false)
                    {
                        <li>
                            @await Html.PartialAsync("_PostPartialAdmin", (post, c))
                        </li>
                        break;
                    }
                }
            }
        </div>
        <div id="three-panel" class="panel">
            <div class="panel-title">User manager</div>
            @await Html.PartialAsync("~/Views/PostManager/ManageUsers.cshtml") 
        </div>
    </div>
</div>
@*<div class="tab-content">
        <div id="postTab" class="tab-pane fade in active">
            @foreach (var post in Model.Posts)
            {
                @if (post.Posted == false)
                {
                    <li>
                        @await Html.PartialAsync("_PostPartialAdmin", (post, new WebApplication3.Models.Comment()))
                    </li>

                }

            }
        </div>
        <div id="commentTab" class="tab-pane fade in">
            @foreach (var post in Model.Posts)
            {
                @foreach (var c in Model.Comments)
                {
                    if (c.PostId == post.Id && c.CommentPosted == false)
                    {
                        <li>
                            @await Html.PartialAsync("_PostPartialAdmin", (post, c))
                        </li>
                        break;
                    }
                }
            }
        </div>
    </div>
*@
@*<div class="page-wrapper">
        <ul class="col-md-8">
            @foreach (var post in Model.Posts)
            {
                @foreach (var c in Model.Comments)
                {
                    if (c.PostId == post.Id && c.CommentPosted == false)
                    {
                        <li>
                            @await Html.PartialAsync("PostPartialAdmin", (post, c))
                        </li>
                        break;
                    }
                }
                @if (post.Posted == false)
                {
                    <li>
                        @await Html.PartialAsync("PostPartial", post)
                    </li>
                    <form method="post" asp-action="Apply" asp-controller="PostManager" asp-route-id="@post.Id">
                        <div class="input-group">
                            <span class="input-group-btn">
                                <button class="btn btn-info">Apply</button>
                            </span>
                        </div>
                    </form>
                    <form method="post" asp-action="Remove" asp-controller="PostManager" asp-route-id="@post.Id">
                        <div class="input-group">
                            <span class="input-group-btn">
                                <button class="btn btn-info">Remove</button>
                            </span>
                        </div>
                    </form>
                }

            }
        </ul>
    </div>*@